# Production Environment Configuration for ActivityPub MCP Server
# Copy this file to .env for production deployment
# IMPORTANT: Review and customize all settings before deploying to production

# Environment
NODE_ENV=production

# MCP Server Configuration
MCP_SERVER_NAME=activitypub-mcp
MCP_SERVER_VERSION=1.0.0

# Logging Configuration (Production)
# Production logging level - use 'info' or 'warn' for production
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE=logs/activitypub-mcp.log

# HTTP Configuration (Production)
USER_AGENT=ActivityPub-MCP-Client/1.0.0
REQUEST_TIMEOUT=10000

# Default Instance (for examples and fallbacks)
DEFAULT_INSTANCE=example.social

# Server Configuration (Production)
# IMPORTANT: Set these to your actual production values
PORT=8000
HOST=0.0.0.0
ACTIVITYPUB_BASE_URL=https://yourdomain.com
ACTIVITYPUB_DOMAIN=yourdomain.com

# Federation Configuration (Production)
FEDERATION_ENABLED=true
FEDERATION_QUEUE_TYPE=redis
FEDERATION_KV_TYPE=redis

# Security Configuration (Production)
ENABLE_CORS=true
# CRITICAL: Specify exact domains for production security
# Replace with your actual domains - NEVER use * in production
CORS_ORIGINS=https://yourdomain.com,https://api.yourdomain.com
RATE_LIMIT_ENABLED=true
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW=900000

# Cache Configuration
CACHE_ENABLED=true
CACHE_TTL=300000
CACHE_MAX_SIZE=1000

# Performance Configuration
MAX_CONCURRENT_REQUESTS=10
RETRY_ATTEMPTS=3
RETRY_DELAY=1000

# Monitoring and Health Checks
HEALTH_CHECK_ENABLED=true
METRICS_ENABLED=true

# ActivityPub Configuration
ACTIVITYPUB_ACCEPT_HEADER=application/activity+json, application/ld+json; profile="https://www.w3.org/ns/activitystreams"
WEBFINGER_ACCEPT_HEADER=application/jrd+json, application/json

# Instance Discovery
DISCOVERY_TIMEOUT=30000
DISCOVERY_MAX_INSTANCES=50

# Error Handling
ERROR_REPORTING_ENABLED=true
DETAILED_ERRORS=false

# Development/Debug Configuration (Production)
# IMPORTANT: These should be disabled in production for security and performance
DEBUG=false
DEBUG_MODE=false
VERBOSE_LOGGING=false

# Optional: External Service Configuration
# SENTRY_DSN=your_sentry_dsn_here
# DATADOG_API_KEY=your_datadog_key_here
# NEW_RELIC_LICENSE_KEY=your_newrelic_key_here

# Optional: Database Configuration (if using persistent storage)
# DATABASE_URL=postgresql://user:password@localhost:5432/activitypub_mcp
# REDIS_URL=redis://localhost:6379

# Optional: SSL/TLS Configuration
# SSL_CERT_PATH=/path/to/cert.pem
# SSL_KEY_PATH=/path/to/key.pem

# Production Security Headers
SECURITY_HEADERS_ENABLED=true
HSTS_ENABLED=true
CSP_ENABLED=true
